{
  "version": 3,
  "sources": ["../../detect-browser/es/index.js"],
  "sourcesContent": ["var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar BrowserInfo = /** @class */ (function () {\r\n    function BrowserInfo(name, version, os) {\r\n        this.name = name;\r\n        this.version = version;\r\n        this.os = os;\r\n        this.type = 'browser';\r\n    }\r\n    return BrowserInfo;\r\n}());\r\nexport { BrowserInfo };\r\nvar NodeInfo = /** @class */ (function () {\r\n    function NodeInfo(version) {\r\n        this.version = version;\r\n        this.type = 'node';\r\n        this.name = 'node';\r\n        this.os = process.platform;\r\n    }\r\n    return NodeInfo;\r\n}());\r\nexport { NodeInfo };\r\nvar SearchBotDeviceInfo = /** @class */ (function () {\r\n    function SearchBotDeviceInfo(name, version, os, bot) {\r\n        this.name = name;\r\n        this.version = version;\r\n        this.os = os;\r\n        this.bot = bot;\r\n        this.type = 'bot-device';\r\n    }\r\n    return SearchBotDeviceInfo;\r\n}());\r\nexport { SearchBotDeviceInfo };\r\nvar BotInfo = /** @class */ (function () {\r\n    function BotInfo() {\r\n        this.type = 'bot';\r\n        this.bot = true; // NOTE: deprecated test name instead\r\n        this.name = 'bot';\r\n        this.version = null;\r\n        this.os = null;\r\n    }\r\n    return BotInfo;\r\n}());\r\nexport { BotInfo };\r\nvar ReactNativeInfo = /** @class */ (function () {\r\n    function ReactNativeInfo() {\r\n        this.type = 'react-native';\r\n        this.name = 'react-native';\r\n        this.version = null;\r\n        this.os = null;\r\n    }\r\n    return ReactNativeInfo;\r\n}());\r\nexport { ReactNativeInfo };\r\n// tslint:disable-next-line:max-line-length\r\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\r\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\r\nvar REQUIRED_VERSION_PARTS = 3;\r\nvar userAgentRules = [\r\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\r\n    ['edge', /Edge\\/([0-9\\._]+)/],\r\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\r\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\r\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\r\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\r\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\r\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\r\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\r\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\r\n    [\r\n        'chromium-webview',\r\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\r\n    ],\r\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\r\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\r\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\r\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\r\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\r\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\r\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\r\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\r\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\r\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\r\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\r\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\r\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\r\n    ['ie', /MSIE\\s(7\\.0)/],\r\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\r\n    ['android', /Android\\s([0-9\\.]+)/],\r\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\r\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\r\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\r\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\r\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\r\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\r\n    ['curl', /^curl\\/([0-9\\.]+)$/],\r\n    ['searchbot', SEARCHBOX_UA_REGEX],\r\n];\r\nvar operatingSystemRules = [\r\n    ['iOS', /iP(hone|od|ad)/],\r\n    ['Android OS', /Android/],\r\n    ['BlackBerry OS', /BlackBerry|BB10/],\r\n    ['Windows Mobile', /IEMobile/],\r\n    ['Amazon OS', /Kindle/],\r\n    ['Windows 3.11', /Win16/],\r\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\r\n    ['Windows 98', /(Windows 98)|(Win98)/],\r\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\r\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\r\n    ['Windows Server 2003', /(Windows NT 5.2)/],\r\n    ['Windows Vista', /(Windows NT 6.0)/],\r\n    ['Windows 7', /(Windows NT 6.1)/],\r\n    ['Windows 8', /(Windows NT 6.2)/],\r\n    ['Windows 8.1', /(Windows NT 6.3)/],\r\n    ['Windows 10', /(Windows NT 10.0)/],\r\n    ['Windows ME', /Windows ME/],\r\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\r\n    ['Open BSD', /OpenBSD/],\r\n    ['Sun OS', /SunOS/],\r\n    ['Chrome OS', /CrOS/],\r\n    ['Linux', /(Linux)|(X11)/],\r\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\r\n    ['QNX', /QNX/],\r\n    ['BeOS', /BeOS/],\r\n    ['OS/2', /OS\\/2/],\r\n];\r\nexport function detect(userAgent) {\r\n    if (!!userAgent) {\r\n        return parseUserAgent(userAgent);\r\n    }\r\n    if (typeof document === 'undefined' &&\r\n        typeof navigator !== 'undefined' &&\r\n        navigator.product === 'ReactNative') {\r\n        return new ReactNativeInfo();\r\n    }\r\n    if (typeof navigator !== 'undefined') {\r\n        return parseUserAgent(navigator.userAgent);\r\n    }\r\n    return getNodeVersion();\r\n}\r\nfunction matchUserAgent(ua) {\r\n    // opted for using reduce here rather than Array#first with a regex.test call\r\n    // this is primarily because using the reduce we only perform the regex\r\n    // execution once rather than once for the test and for the exec again below\r\n    // probably something that needs to be benchmarked though\r\n    return (ua !== '' &&\r\n        userAgentRules.reduce(function (matched, _a) {\r\n            var browser = _a[0], regex = _a[1];\r\n            if (matched) {\r\n                return matched;\r\n            }\r\n            var uaMatch = regex.exec(ua);\r\n            return !!uaMatch && [browser, uaMatch];\r\n        }, false));\r\n}\r\nexport function browserName(ua) {\r\n    var data = matchUserAgent(ua);\r\n    return data ? data[0] : null;\r\n}\r\nexport function parseUserAgent(ua) {\r\n    var matchedRule = matchUserAgent(ua);\r\n    if (!matchedRule) {\r\n        return null;\r\n    }\r\n    var name = matchedRule[0], match = matchedRule[1];\r\n    if (name === 'searchbot') {\r\n        return new BotInfo();\r\n    }\r\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\r\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\r\n    if (versionParts) {\r\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\r\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\r\n        }\r\n    }\r\n    else {\r\n        versionParts = [];\r\n    }\r\n    var version = versionParts.join('.');\r\n    var os = detectOS(ua);\r\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\r\n    if (searchBotMatch && searchBotMatch[1]) {\r\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\r\n    }\r\n    return new BrowserInfo(name, version, os);\r\n}\r\nexport function detectOS(ua) {\r\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\r\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\r\n        var match = regex.exec(ua);\r\n        if (match) {\r\n            return os;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexport function getNodeVersion() {\r\n    var isNode = typeof process !== 'undefined' && process.version;\r\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\r\n}\r\nfunction createVersionParts(count) {\r\n    var output = [];\r\n    for (var ii = 0; ii < count; ii++) {\r\n        output.push('0');\r\n    }\r\n    return output;\r\n}\r\n"],
  "mappings": "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",
  "names": ["BrowserInfo", "NodeInfo", "SearchBotDeviceInfo", "BotInfo", "ReactNativeInfo"]
}
